---
import { getCollection } from "astro:content";

import BaseLayout from "../layouts/BaseLayout.astro";
import WorkProjectPreview from "../components/WorkProjectPreview.astro";

const workProjects = (await getCollection("work")).sort(
  (a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf(),
);
---

<BaseLayout>
  <h1>Work</h1>
  <div>
    <ul>
      {
        workProjects.map((project) => (
          <li>
            <WorkProjectPreview project={project} />
          </li>
        ))
      }
    </ul>
  </div>
</BaseLayout>
