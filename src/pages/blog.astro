---
import { getCollection } from "astro:content";

import BaseLayout from "../layouts/BaseLayout.astro";
import BlogPreview from "../components/BlogPreview.astro";

const blogPosts = (await getCollection("blog")).sort(
  (a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf(),
);
---

<BaseLayout>
  <h1>Work</h1>
  <div>
    <ul>
      {
        blogPosts.map((blog) => (
          <li>
            <BlogPreview blog={blog} />
          </li>
        ))
      }
    </ul>
  </div>
</BaseLayout>
